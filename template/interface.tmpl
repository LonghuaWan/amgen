// Code generated by cmgen.
// DO NOT EDIT

package {{.PackageName}}

//go:generate goimports -w {{.FileName}}
type Database interface {
	InitDB(session *mgo.Session)
}

func Connect(host string, dbs ...Database) {
	session, err := mgo.Dial(host)
	if err != nil {
		log.Fatalf("[FATAL] connect the database failed")
	}

	if len(dbs) == 0 {
		log.Fatalf("[FATAL] your must the select database")
	}

	for _, db := range dbs {
		db.InitDB(session)
	}
}
